webpackJsonp([3],{"1ojM":function(t,e){},"2drR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Dd8w"),i=a.n(n),s=a("NYxO"),r={name:"SerachInput",data:function(){return{search:{text:null,type:null}}},props:{searchType:{Type:JSON}},methods:{searchData:function(){this.search.type=this.searchType.selected,this.$emit("clicked",this.search)}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search_input"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchType.selected,expression:"searchType.selected"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.searchType,"selected",e.target.multiple?a:a[0])}}},t._l(t.searchType.options,function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(t._s(e.text))])}),0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search.text,expression:"search.text"}],attrs:{type:"text",placeholder:"search text"},domProps:{value:t.search.text},on:{input:function(e){e.target.composing||t.$set(t.search,"text",e.target.value)}}}),t._v(" "),a("input",{attrs:{type:"button",value:"검색"},on:{click:t.searchData}})])},staticRenderFns:[]};var u=a("VU/8")(r,o,!1,function(t){a("fLd8")},null,null).exports,l={name:"List",props:{width:{type:Array,required:!0},align:{type:Array,required:!0},headList:{type:Array,required:!0},bodyList:{type:Array,required:!0},cellFilters:{type:Array,required:!0},pagingData:{type:Object,required:!0}},data:function(){return{bodyKeys:[]}},created:function(){console.log("ui/List.vue")},mounted:function(){},methods:{dynamicStyle:function(t){return{width:this.width[t]+"%","text-align":this.align[t]}},setIndexNum:function(t){return this.pagingData.total_cnt-(this.pagingData.page_num-1)*this.pagingData.row_num-t}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"list_head"},[a("div",{staticClass:"list_tr"},[a("div",{staticClass:"list_th list_no"},[t._v("No.")]),t._v(" "),t._l(t.headList,function(e,n){return a("div",{key:n,staticClass:"list_th",style:t.dynamicStyle(n)},[t._v(t._s(e.text))])})],2)]),t._v(" "),t.bodyList.length>0?a("div",{staticClass:"list_body"},t._l(t.bodyList,function(e,n){return a("div",{key:n,staticClass:"list_tr"},[a("div",{staticClass:"list_td list_no"},[t._v(t._s(t.setIndexNum(n)))]),t._v(" "),t._l(t.cellFilters,function(n,i){return a("div",{key:i,staticClass:"list_td",style:t.dynamicStyle(i),on:{click:function(t){return n.click(e)}}},[t._v(t._s(e[n.key]))])})],2)}),0):t._e()])},staticRenderFns:[]};var p=a("VU/8")(l,c,!1,function(t){a("1ojM")},null,null).exports,h={name:"Paging",created:function(){console.log("ui/Paging.vue")},props:{page_num:{type:Number,required:!0},total_page_num:{type:Number,required:!0},row_num:{type:Number,required:!0}},computed:{startNum:function(){for(var t=10*(parseInt(this.page_num/10)-(this.page_num%10==0?1:0))+1,e=[],a=0;a<10;a++)e[a]=t++;return e}},methods:{pagingRangeCheck:function(t,e){return t<=this.total_page_num&&e<10},pagingClass:function(t){return{"current-page":t===this.page_num}},moveFirstPage:function(){this.$router.push({params:{page:1},query:this.$route.query})},movePreviousPage:function(){this.$router.push({params:{page:this.page_num-1>=1?this.page_num-1:1},query:this.$route.query})},movePage:function(t){this.$router.push({params:{page:t},query:this.$route.query})},moveNextPage:function(){this.$router.push({params:{page:this.page_num+1<=this.total_page_num?this.page_num+1:this.page_num},query:this.$route.query})},moveLastPage:function(){this.$router.push({params:{page:this.total_page_num},query:this.$route.query})}}},g={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div_paging"},[a("div",{staticClass:"inner_div"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[t._m(0),t._v(" "),t._l(t.startNum,function(e,n){return t.pagingRangeCheck(e,n)?a("li",{key:e,staticClass:"page-item",class:t.pagingClass(e),on:{click:function(a){return t.movePage(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(e))])]):t._e()}),t._v(" "),t._m(1)],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[this._v("<")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[this._v(">")])])}]};var d=a("VU/8")(h,g,!1,function(t){a("3JC2")},null,null).exports,_=a("voF/"),m=a("fZjL"),v=a.n(m),f={data:function(){return{pagingData:{page_num:-1,row_num:-1,sort_column:"",sort_type:-1,total_cnt:-1,total_page_num:-1}}},methods:{setPagingData:function(t){var e=this;console.log(t),v()(t).forEach(function(a){e.pagingData[a]=t[a]})}}},y=a("VU/8")(f,null,!1,null,null,null).exports,x={name:"BoardList",components:{"serach-input":u,paging:d,List:p,InputButton:_.a},mixins:[y],data:function(){var t=this;return{msg:"게시판 페이지",list:[],search:{selected:"",options:[{value:"",text:"All"},{value:"title",text:"Title"},{value:"content",text:"Content"},{value:"author",text:"Author"}]},width:[20,30,30,20,20,20],align:["center","center","center","center","center","center"],headList:[{text:"Title"},{text:"Content"},{text:"Author"},{text:"Views"},{text:"CreateDate"},{text:"ModifyDate"}],cellFilters:[{key:"title",click:function(e){console.log(e),t.goDetail(e)}},{key:"content"},{key:"author"},{key:"views"},{key:"create_date"},{key:"mod_date"}]}},watch:{$route:function(t,e){console.log("watch"),console.log(t),console.log(e),this.setPagingData({page_num:t.params.page?Number(t.params.page):1,row_num:10,sort_type:t.query.sort_type?t.query.sort_type:"ASC"}),this.getList()}},computed:i()({},Object(s.b)({authInfo:"authInfo"})),created:function(){this.getTotalListLength()},methods:i()({},Object(s.c)({popupShow:"popup/show"}),{getTotalListLength:function(t){var e=this;this.$http.get("/api/board",{params:t}).then(function(a){e.pagingData.total_cnt=a.data.count,e.pagingData.page_num=e.$route.params.page,e.pagingData.row_num=10,e.getList(t)})},getList:function(t){var e=this,a=this.$route.params.page;this.$http.get("/api/board/"+a,{params:t}).then(function(t){e.setList(t.data.list)})},goDetail:function(t){var e=this;console.log("item",t);var a={views:++t.views};this.$http.put("/api/board/update/"+t._id,a).then(function(a){e.popupShow({title:"상세보기",useComponent:"BoardDetailForm",props:{item:t,reload:e.getList}})})},goWriting:function(){this.$router.push({name:"BoardWriting"})},searchData:function(t){this.$route.params.page;var e={type:t.type,text:t.text};this.getTotalListLength(e)},setList:function(t){t.length>0?(this.list=t,this.list.map(function(t){t.author=t.author.nickname+"("+t.author.id+")",t.create_date=t.create_date.split("T")[0],t.mod_date=t.mod_date.split("T")[0]}),this.pagingData.total_page_num=Math.ceil(this.pagingData.total_cnt/10)):this.list}})},C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board"},[a("div",{staticClass:"list_table"},[a("div",{staticClass:"head"},[a("serach-input",{attrs:{searchType:t.search},on:{clicked:t.searchData}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.authInfo.active,expression:"authInfo.active"}]},[a("input-button",{attrs:{text:"글쓰기",width:"100px"},on:{clicked:t.goWriting}})],1)],1),t._v(" "),a("list",{attrs:{width:t.width,align:t.align,headList:t.headList,bodyList:t.list,cellFilters:t.cellFilters,pagingData:t.pagingData}}),t._v(" "),t.list.length>0?a("paging",{attrs:{page_num:t.pagingData.page_num,total_page_num:t.pagingData.total_page_num,row_num:t.pagingData.row_num}}):t._e(),t._v(" "),a("router-view")],1)])},staticRenderFns:[]};var k=a("VU/8")(x,C,!1,function(t){a("ETrY")},null,null);e.default=k.exports},"3JC2":function(t,e){},Cdx3:function(t,e,a){var n=a("sB3e"),i=a("lktj");a("uqUo")("keys",function(){return function(t){return i(n(t))}})},ETrY:function(t,e){},fLd8:function(t,e){},fZjL:function(t,e,a){t.exports={default:a("jFbC"),__esModule:!0}},jFbC:function(t,e,a){a("Cdx3"),t.exports=a("FeBl").Object.keys},uqUo:function(t,e,a){var n=a("kM2E"),i=a("FeBl"),s=a("S82l");t.exports=function(t,e){var a=(i.Object||{})[t]||Object[t],r={};r[t]=e(a),n(n.S+n.F*s(function(){a(1)}),"Object",r)}}});
//# sourceMappingURL=3.60187d52f29ac631f11e.js.map