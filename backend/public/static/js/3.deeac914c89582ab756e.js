webpackJsonp([3],{"2drR":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("fZjL"),i=a.n(n),s=a("Dd8w"),r=a.n(s),o=a("NYxO"),u={name:"SerachInput",data:function(){return{searchText:""}},props:{search:{Type:JSON}},created:function(){console.log("ui/SerachInput.vue")},methods:{search:function(){alert(this.searchText)}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search_input"},[a("select",t._l(t.search.options,function(e,n){return a("option",{key:n,domProps:{value:e.value}},[t._v(t._s(e.text))])}),0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:"search text"},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),t._v(" "),a("input",{attrs:{type:"button",value:"search"},on:{click:t.search}})])},staticRenderFns:[]};var c=a("VU/8")(u,l,!1,function(t){a("U7Rh")},null,null).exports,p={name:"List",props:{width:{type:Array,required:!0},align:{type:Array,required:!0},headList:{type:Array,required:!0},bodyList:{type:Array,required:!0},cellFilters:{type:Array,required:!0},startNo:{type:Number,required:!0}},data:function(){return{bodyKeys:[]}},created:function(){console.log("ui/List.vue")},mounted:function(){},methods:{dynamicStyle:function(t){return{width:this.width[t]+"%","text-align":this.align[t]}}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},[a("div",{staticClass:"list_head"},[a("div",{staticClass:"list_tr"},[a("div",{staticClass:"list_th list_no"},[t._v("No.")]),t._v(" "),t._l(t.headList,function(e,n){return a("div",{key:n,staticClass:"list_th",style:t.dynamicStyle(n)},[t._v(t._s(e.text))])})],2)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.bodyList.length>0,expression:"bodyList.length>0"}],staticClass:"list_body"},t._l(t.bodyList,function(e,n){return a("div",{key:n,staticClass:"list_tr"},[a("div",{staticClass:"list_td list_no"},[t._v(t._s(t.startNo-n))]),t._v(" "),t._l(t.cellFilters,function(n,i){return a("div",{key:i,staticClass:"list_td",style:t.dynamicStyle(i),on:{click:function(t){return n.click(e)}}},[t._v(t._s(e[n.key]))])})],2)}),0)])},staticRenderFns:[]};var g=a("VU/8")(p,h,!1,function(t){a("j1x8")},null,null).exports,d={name:"Paging",created:function(){console.log("ui/Paging.vue"),console.log(this.$route)},props:{page_num:{type:Number,required:!0},total_page_num:{type:Number,required:!0},row_num:{type:Number,required:!0}},computed:{startNum:function(){for(var t=10*(parseInt(this.page_num/10)-(this.page_num%10==0?1:0))+1,e=[],a=0;a<10;a++)e[a]=t++;return console.log(e),e}},methods:{pagingRangeCheck:function(t,e){return t<=this.total_page_num&&e<10},pagingClass:function(t){return{"current-page":t===this.page_num}},moveFirstPage:function(){this.$router.push({params:{page:1},query:this.$route.query})},movePreviousPage:function(){this.$router.push({params:{page:this.page_num-1>=1?this.page_num-1:1},query:this.$route.query})},movePage:function(t){this.$router.push({params:{page:t},query:this.$route.query})},moveNextPage:function(){this.$router.push({params:{page:this.page_num+1<=this.total_page_num?this.page_num+1:this.page_num},query:this.$route.query})},moveLastPage:function(){this.$router.push({params:{page:this.total_page_num},query:this.$route.query})}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"div_paging"},[a("div",{staticClass:"inner_div"},[a("nav",{attrs:{"aria-label":"Page navigation example"}},[a("ul",{staticClass:"pagination"},[t._m(0),t._v(" "),t._l(t.startNum,function(e,n){return t.pagingRangeCheck(e,n)?a("li",{key:e,staticClass:"page-item",class:t.pagingClass(e),on:{click:function(a){return t.movePage(e)}}},[a("a",{staticClass:"page-link",attrs:{href:"#"}},[t._v(t._s(e))])]):t._e()}),t._v(" "),t._m(1)],2)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[this._v("<")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"page-item"},[e("a",{staticClass:"page-link",attrs:{href:"#"}},[this._v(">")])])}]};var v={name:"BoardList",components:{"serach-input":c,paging:a("VU/8")(d,_,!1,function(t){a("piwp")},null,null).exports,List:g,InputButton:a("voF/").a},data:function(){var t=this;return{msg:"게시판 페이지",list:[],pagingData:{page_num:1,row_num:10,sort_type:"ASC",total_cnt:null,total_page_num:null},search:{selected:"",options:[{value:"",text:"All"},{value:"title",text:"Title"},{value:"content",text:"Content"},{value:"author",text:"Author"}]},width:[20,30,30,20,20,20],align:["center","center","center","center","center","center"],headList:[{text:"Title"},{text:"Content"},{text:"Author"},{text:"Views"},{text:"CreateDate"},{text:"ModifyDate"}],cellFilters:[{key:"title",click:function(e){console.log(e),t.goDetail(e)}},{key:"content"},{key:"author"},{key:"views"},{key:"create_date"},{key:"mod_date"}]}},watch:{$route:function(t,e){this.setPagingData({page_num:t.params.page?Number(t.params.page):1,row_num:10,sort_type:t.query.sort_type?t.query.sort_type:"ASC"}),this.getList()}},computed:r()({},Object(o.b)({authInfo:"authInfo"}),{startNo:function(){var t=this.pagingData;return t.total_cnt-(t.page_num-1)*t.row_num}}),created:function(){console.log("BoardList.vue"),this.getList()},methods:{getList:function(){var t=this;console.log("getList()");var e=this.$route.params.page;this.$http.get("/api/board/"+e).then(function(e){console.log(e);var a=e.data.list;t.list=a,t.list.map(function(t){t.author=t.author.nickname+"("+t.author.id+")",t.create_date=t.create_date.split("T")[0],t.mod_date=t.mod_date.split("T")[0]}),t.pagingData.total_cnt=a.length,t.pagingData.total_page_num=Math.ceil(a.length/10)})},goDetail:function(t){var e=this;console.log("goDetail");var a={views:++t.views};this.$http.put("/api/board/update/"+t._id,a).then(function(a){console.log(a),e.$router.replace({name:"BoardDetail",params:{id:t._id}})})},setPagingData:function(t){var e=this;i()(t).forEach(function(a){e.pagingData[a]=t[a]})},goWriting:function(){this.$router.push({name:"BoardWriting"})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board"},[a("div",{staticClass:"list_table"},[a("div",{staticClass:"head"},[a("serach-input",{attrs:{search:t.search}}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.authInfo.active,expression:"authInfo.active"}]},[a("input-button",{attrs:{text:"글쓰기",width:"100px"},on:{clicked:t.goWriting}})],1)],1),t._v(" "),a("list",{attrs:{width:t.width,align:t.align,headList:t.headList,bodyList:t.list,cellFilters:t.cellFilters,startNo:t.startNo}}),t._v(" "),t.list.length>0?a("paging",{attrs:{page_num:t.pagingData.page_num,total_page_num:t.pagingData.total_page_num,row_num:t.pagingData.row_num}}):t._e(),t._v(" "),a("router-view")],1)])},staticRenderFns:[]};var f=a("VU/8")(v,m,!1,function(t){a("by0e")},null,null);e.default=f.exports},Cdx3:function(t,e,a){var n=a("sB3e"),i=a("lktj");a("uqUo")("keys",function(){return function(t){return i(n(t))}})},U7Rh:function(t,e){},by0e:function(t,e){},fZjL:function(t,e,a){t.exports={default:a("jFbC"),__esModule:!0}},j1x8:function(t,e){},jFbC:function(t,e,a){a("Cdx3"),t.exports=a("FeBl").Object.keys},piwp:function(t,e){},uqUo:function(t,e,a){var n=a("kM2E"),i=a("FeBl"),s=a("S82l");t.exports=function(t,e){var a=(i.Object||{})[t]||Object[t],r={};r[t]=e(a),n(n.S+n.F*s(function(){a(1)}),"Object",r)}}});
//# sourceMappingURL=3.deeac914c89582ab756e.js.map